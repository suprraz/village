<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Village Landing Page</title>
    <link rel="stylesheet" href="https://unpkg.com/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bulmaswatch/solar/bulmaswatch.min.css">

    <script type="text/javascript">
      class _Landing {
        constructor() {

          document.addEventListener('DOMContentLoaded', () => {
            const placeholder = document.getElementById('placeholder');
            const landing = document.getElementById('landing');
            landing.removeAttribute('style');
            placeholder.remove();

            this.registerListeners();
          }, false);
        }

        hideLanding() {
          return !!document.getElementById('hideLanding').checked;
        }

        start() {
          if(this.hideLanding()) {
            window.parent.postMessage({type: 'hideLanding', payload: {sourceApp: 'landingAppId'}}, '*');
          }
          window.parent.postMessage({type: 'closeApp', payload: {sourceApp: 'landingAppId'}}, '*');
        }

        registerListeners() {
          document.getElementById('btn_start').addEventListener('click', () => this.start());
        }
      }

      new _Landing();
    </script>
</head>

<body>
<div id="placeholder" style='background-color: #0a0a0a; height: 100%;'></div>
<div id="landing" style='display: none;'>
    <section class="section">

        <h1 class="title">
            The Village Protocol
        </h1>
        <p class="subtitle is-size-4">
            A decentralized app network powered by Bitcoin Lightning
        </p>

    </section>

    <section class="hero is-medium is-link">
        <div class="hero-body">
            <section class="container">
                <p class="block is-size-3"> Ready to join peer-to-peer?</p>

                <button id="btn_start" class="button is-primary is-large">Bring me in!</button>

                <div class="is-size-5 mt-6">
                    <label class="checkbox">
                        <input type="checkbox" class="checkbox" name="hideLanding" id="hideLanding" />
                        Hide this page in the future
                    </label>
                </div>
            </section>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="content is-size-5">
                <h3>What is Village?</h3>

                <p>
                    Village is a fully decentralized peer-to-peer app store and network living inside a mesh of web
                    browsers. Developers, distributors and protocol maintainers make Bitcoin for scaling the protocol.
                    After joining the network and connect to peers, all the content in the web page is served by peers.
                    Servers are not used except to facilitate the network discovery and enable revenue distribution.
                    This codebase can be downloaded and run on any computer - it's really just an HTML file.
                </p>

                <h3>How is Village built?</h3>

                <p>Village is coded by its users. When an improvement is proposed, users decide whether they want to use
                    it or reject it. This makes village continue improving. Have an idea to improve Village? Code it up
                    and
                    share it with the Village!
                </p>

                <p>
                    Village is open source and hosted here:
                    <a href="https://github.com/suprraz/village" target="_blank">https://github.com/suprraz/village</a>
                </p>

                <h3>Where is the Village data stored?</h3>

                <p>Village data is stored in the web browser's data stores. When new data enters the network, it is
                    shared and replicated amongst peers as backup.</p>
            </div>
        </div>
    </section>
</div>
</body>
</html>
