<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Village</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/bulma-prefers-dark" />
    <link rel="stylesheet" href="css/main.css"/>
    <script src="js/main.js" type="module" async></script>

</head>

<body>
<div id="landing">
    <section class="section">

            <h1 class="title">
                Village: An Internet OS.
            </h1>
            <p class="subtitle">
                Change the code, change the world.
            </p>

    </section>

    <section class="hero is-medium is-link">
        <div class="hero-body">
            <section class="container">
                <p class="block is-size-3"> Ready to join peer-to-peer?</p>

                <button id="btn_start" class="button is-primary is-large" >Bring me in!</button>
            </section>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="content">
                <h3>What is Village?</h3>

                <p>Village is a fully decentralized peer-to-peer network living in web browsers.  Once you join the network
                    and connect to your peers, all the content in your web page is served by your peers.  Servers are not
                    used except to facilitate the very first time you connect to the network.
                </p>

                <h3>How is Village built?</h3>

                <p>Village is coded by its users.  When an improvement is proposed, users decide whether they want to use it
                    or reject it.  This makes village continue improving.  Have an idea to improve Village?  Code it up and
                    share it with the Village!
                </p>

                <h3>What tools are required to code Village components?</h3>

                <p>Village can be coded directly in the web browser - no special tools needed.  You can start coding Village
                today with just simple Javascript</p>

                <h3>Where is the Village data stored?</h3>

                <p>Village data is stored in the web browser's cache.  When new data enters the network, it is shared and
                stored amongst peers as backup</p>
            </div>
        </div>
    </section>
</div>
<div id="osView" class="is-hidden">

    <div class="card" id="offerCard">
        <div class="card-content">
            <p class="title">
                No Peers!
            </p>

            <p class="subtitle is-size-4">
                Share this link to invite a peer:
            </p>
            <section class="section">
                <div class="container">
                    <div class="" id="offer">
                        Generating link ...
                    </div>
                </div>

                <br />
                <div id="copiedOfferNotification" class="notification is-primary is-hidden">
                    Copied to clipboard!
                </div>
            </section>

            <div class="container is-hidden" id="peerKeyPrompt">
                <p class="title is-size-4">
                    Next, paste the peer's response key below:
                </p>

                <textarea class="textarea" id="peerKey" >

                </textarea>
            </div>
        </div>
        <footer class="card-footer">
            <p class="card-footer-item">
                <button class="button is-primary" id="submitKey" disabled>Submit Key</button>
            </p>
        </footer>
    </div>

    <div class="card is-hidden" id="answerCard">
        <div class="card-content">
            <p class="title">
                Almost there!
            </p>

            <p class="subtitle is-size-4">
                To accept, send this back to the person that invited you:
            </p>
            <section class="section">
                <div class="container">
                    <div class="is-clipped" id="answer">
                        Generating a response ...
                    </div>
                </div>

                <br />
                <div id="copiedAnswerNotification" class="notification is-primary is-hidden">
                    Copied to clipboard!
                </div>

                <div class="container is-hidden" id="waitToConnect">
                    <p class="title is-size-4">
                        Once the host accepts you will be connected.
                    </p>
                </div>
            </section>

        </div>
    </div>

    <div id="connectedView" class="is-hidden">
        <div class="tile is-ancestor">
            <div class="tile is-vertical is-8">
                <div class="tile">
                    <div class="tile is-parent is-vertical">
                        <article class="tile is-child notification is-primary">
                            <p class="title">Home</p>
                            <p class="subtitle">Installed Apps</p>
                            <div id="installedApps" class="is-flex is-flex-direction-column"></div>


                        </article>
                        <article class="tile is-child notification is-warning">
                            <p class="title">Status</p>
                            <p class="subtitle">Connection State</p>
                            <div id="connstate"></div>
                        </article>
                    </div>
                    <div class="tile is-parent">
                        <article class="tile is-child notification is-info">
                            <p class="title">Chat</p>
                            <div class="content" id="chatLog">
                            </div>


                            <input type="text" id="chatBoxMessage">
                            <figure class="image is-4by3">
                                <img src="https://bulma.io/images/placeholders/640x480.png">
                            </figure>
                        </article>
                    </div>
                </div>
                <div class="tile is-parent">
                    <article class="tile is-child notification is-danger">
                        <p class="title">Wide tile</p>
                        <p class="subtitle">Aligned with the right tile</p>
                        <div class="content">
                            <!-- Content -->
                        </div>
                    </article>
                </div>
            </div>
            <div class="tile is-parent">
                <article class="tile is-child notification is-success">
                    <div class="content">
                        <p class="title">Console</p>
                        <div class="editorlog" id="editorlog"></div>

                        <textarea id="editor" rows="20" cols="30"> </textarea>

                        <input type="text" name="appName" id="appName" />

                        <div class="is-flex is-flex-direction-row">
                            <button id="runLocal">Local</button>
                            <button id="runRemote">Remote</button>
                            <button id="createApp">Create App</button>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>

</div>
</body>
</html>
